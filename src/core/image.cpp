#include "image.h"

void lucidfx::core::bindImage(sol::state &lua) {
    lua.new_usertype<lucidfx::core::Image>("Image",
        "new", sol::factories(
            []() { return new lucidfx::core::Image(); }
        ),
        sol::base_classes, sol::bases<lucidfx::core::BaseObject, lucidfx::core::Resource>(),
        "adjustBcs", &lucidfx::core::Image::adjustBcs,
        "blendRect", &lucidfx::core::Image::blendRect,
        "blendRectMask", &lucidfx::core::Image::blendRectMask,
        "blitRect", &lucidfx::core::Image::blitRect,
        "blitRectMask", &lucidfx::core::Image::blitRectMask,
        "crop", &lucidfx::core::Image::crop,
        //"cropRect", &lucidfx::core::Image::cropRect,
        "flipX", &lucidfx::core::Image::flipX,
        "flipY", &lucidfx::core::Image::flipY,
        "generateMipmaps", &lucidfx::core::Image::generateMipmaps,
        "getData", &lucidfx::core::Image::getData,
        "getDataSize", &lucidfx::core::Image::getDataSize,
        "getFormat", &lucidfx::core::Image::getFormat,
        "getHeight", &lucidfx::core::Image::getHeight,
        "getMipmapCount", &lucidfx::core::Image::getMipmapCount,
        "getMipmapOffset", &lucidfx::core::Image::getMipmapOffset,
        "getPixel", &lucidfx::core::Image::getPixel,
        "getPixelv", &lucidfx::core::Image::getPixelv,
        "getRegion", &lucidfx::core::Image::getRegion,
        "getSize", &lucidfx::core::Image::getSize,
        "getUsedRect", &lucidfx::core::Image::getUsedRect,
        "getWidth", &lucidfx::core::Image::getWidth,
        "hasMipmaps", &lucidfx::core::Image::hasMipmaps,
        "isCompressed", &lucidfx::core::Image::isCompressed,
        "isEmpty", &lucidfx::core::Image::isEmpty,
        "isInvisible", &lucidfx::core::Image::isInvisible,
        "load", &lucidfx::core::Image::load,
        "loadBmpFromBuffer", &lucidfx::core::Image::loadBmpFromBuffer,
        "loadFromFile", &lucidfx::core::Image::loadFromFile,
        "loadJpegFromBuffer", &lucidfx::core::Image::loadJpegFromBuffer,
        "loadKtxFromBuffer", &lucidfx::core::Image::loadKtxFromBuffer,
        "loadPngFromBuffer", &lucidfx::core::Image::loadPngFromBuffer,
        "loadSvgFromBuffer", &lucidfx::core::Image::loadSvgFromBuffer,
        "loadSvgFromString", &lucidfx::core::Image::loadSvgFromString,
        "loadTgaFromBuffer", &lucidfx::core::Image::loadTgaFromBuffer,
        "loadWebpFromBuffer", &lucidfx::core::Image::loadWebpFromBuffer,
        "normalMapToXY", &lucidfx::core::Image::normalMapToXY,
        "premultiplyAlpha", &lucidfx::core::Image::premultiplyAlpha,
        "resize", &lucidfx::core::Image::resize,
        "resizeToPo2", &lucidfx::core::Image::resizeToPo2,
        "rotate90", &lucidfx::core::Image::rotate90,
        "rotate180", &lucidfx::core::Image::rotate180,
        "saveRxr", &lucidfx::core::Image::saveRxr,
        "saveRxrToBuffer", &lucidfx::core::Image::saveRxrToBuffer,
        "saveJpeg", &lucidfx::core::Image::saveJpeg,
        "saveJpegToBuffer", &lucidfx::core::Image::saveJpegToBuffer,
        "savePng", &lucidfx::core::Image::savePng,
        "savePngToBuffer", &lucidfx::core::Image::savePngToBuffer,
        "saveWebp", &lucidfx::core::Image::saveWebp,
        "saveWebpToBuffer", &lucidfx::core::Image::saveWebpToBuffer,
        //"setData", &lucidfx::core::Image::setData,
        "setPixel", &lucidfx::core::Image::setPixel,
        "setPixelv", &lucidfx::core::Image::setPixelv,
        "shrinkX2", &lucidfx::core::Image::shrinkX2,
        "srgbToLinear", &lucidfx::core::Image::srgbToLinear,
        "cast", [](Resource* instance) {
            return new Image(godot::Object::cast_to<GodotImage>(instance->getResource()));
        }
    );
}